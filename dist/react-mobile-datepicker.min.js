!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["react","react-dom"],t):e.reactMobileDatePicker=t(e.React,e.ReactDOM)}(this,function(e,n){"use strict";var m="default"in e?e.default:e;function i(e){if("[object Date]"!==Object.prototype.toString.call(e,null))throw new Error("参数类型不对")}function k(e,t){var n=t,r={"M+":e.getMonth()+1,"D+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds()};for(var a in/(Y+)/.test(t)&&(n=n.replace(RegExp.$1,e.getFullYear().toString().substr(4-RegExp.$1.length))),r)new RegExp("("+a+")").test(t)&&(n=n.replace(RegExp.$1,1===RegExp.$1.length?r[a]:("00"+r[a]).substr(r[a].toString().length)));return n}function r(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return i(e),new Date(e.getTime()+24*t*60*60*1e3)}n=n&&n.hasOwnProperty("default")?n.default:n,function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css","top"===n&&r.firstChild?r.insertBefore(a,r.firstChild):r.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}}(".datepicker-modal {\n    position: fixed;\n    right: 0;\n    bottom: 0;\n    width: 100%;\n    height: 100%;\n    background-color: rgba(0, 0, 0, .6);\n    z-index: 999;\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n    -webkit-box-pack: center;\n        -ms-flex-pack: center;\n            justify-content: center;\n}\n\n.datepicker {\n    position: absolute;\n    left: 0;\n    bottom: 0;\n    width: 100%;\n    z-index: 1;\n    font-size: 16px;\n    text-align: center;\n    font-family: arial,verdana,sans-serif;\n    -webkit-box-sizing: content-box;\n            box-sizing: content-box;\n    -webkit-font-smoothing: antialiased;\n    -webkit-user-select: none;\n       -moz-user-select: none;\n        -ms-user-select: none;\n            user-select: none;\n}\n\n.datepicker .datepicker-header {\n        padding: 0 .5em;\n        min-height: 2em;\n        line-height: 2em;\n        font-size: 1.125em;\n    }\n\n.datepicker .datepicker-navbar {\n        padding: 0 .5em .5em .5em;\n        overflow: hidden;\n    }\n\n.datepicker .datepicker-navbar-btn {\n        height: 2.5em;\n        line-height: 2.5em;\n        float: right;\n        padding: 0 1em;\n        cursor: pointer;\n    }\n\n.datepicker .datepicker-content {\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n        padding: .5em .25em;\n    }\n\n.datepicker .datepicker-col-1 {\n        -webkit-box-flex: 1;\n            -ms-flex: 1;\n                flex: 1;\n        margin: 0 .25em;\n    }\n\n.datepicker .datepicker-viewport {\n        height: 200px;\n        position: relative;\n        overflow: hidden\n    }\n\n.datepicker .datepicker-viewport::after {\n    content: '';\n    position: absolute;\n    z-index: 2;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    pointer-events: none;\n}\n\n.datepicker .datepicker-wheel {\n        position: absolute;\n        height: 40px;\n        top: 50%;\n        margin-top: -20px;\n        width: 100%;\n    }\n\n.datepicker .datepicker-scroll {\n        list-style-type: none;\n        padding: 0\n    }\n\n.datepicker .datepicker-scroll>li {\n    height: 40px;\n    line-height: 40px;\n    font-size: 1.375em;\n    cursor: pointer;\n}\n\n.datepicker {\n\n    /* default */\n}\n\n.datepicker.default {\n    background-color: #f7f7f7;\n}\n\n.datepicker.default .datepicker-header {\n            color: #4eccc4;\n}\n\n.datepicker.default .datepicker-wheel {\n            border-top: 1px solid #4eccc4;\n            border-bottom: 1px solid #4eccc4;\n}\n\n.datepicker.default .datepicker-scroll li {\n                color: rgb(59, 59, 59);\n            }\n\n.datepicker.default .datepicker-scroll li.disabled {\n                color: rgb(191, 191, 191);\n            }\n\n.datepicker.default .datepicker-navbar-btn {\n            color: #4eccc4;\n}\n\n.datepicker {\n\n    /* dark */\n}\n\n.datepicker.dark {\n    background-color: #263238;\n}\n\n.datepicker.dark .datepicker-header {\n            color: #50ccc4;\n}\n\n.datepicker.dark .datepicker-wheel {\n            border-top: 1px solid #50ccc4;\n            border-bottom: 1px solid #50ccc4;\n}\n\n.datepicker.dark .datepicker-scroll li {\n                color: rgb(201, 203, 204);\n            }\n\n.datepicker.dark .datepicker-scroll li.disabled {\n                color: rgb(87, 96, 100);\n            }\n\n.datepicker.dark .datepicker-navbar-btn {\n            color: #50ccc4;\n}\n\n.datepicker {\n\n    /* ios */\n}\n\n.datepicker.ios {\n    background-color: #f7f7f7;\n}\n\n.datepicker.ios .datepicker-col-1 {margin: 0;\n}\n\n.datepicker.ios .datepicker-header {\n            color: rgb(59, 59, 59);\n            padding: 0 3.5em;\n}\n\n.datepicker.ios .datepicker-viewport::after {\n    background: -webkit-gradient(linear,left top, left bottom,from(#f7f7f7),color-stop(52%, rgba(245, 245, 245, 0)),color-stop(48%, rgba(245, 245, 245, 0)),to(#f7f7f7));\n    background: linear-gradient(#f7f7f7,rgba(245, 245, 245, 0)52%,rgba(245, 245, 245, 0)48%,#f7f7f7);\n}\n\n.datepicker.ios .datepicker-wheel {\n            border-top: 1px solid #dbdbdb;\n            border-bottom: 1px solid #dbdbdb;\n}\n\n.datepicker.ios .datepicker-scroll li {\n                color: rgb(59, 59, 59);\n            }\n\n.datepicker.ios .datepicker-scroll li.disabled {\n                color: rgb(191, 191, 191);\n            }\n\n.datepicker.ios .datepicker-navbar {\n            position: absolute;\n            z-index: 2;\n            top: 0;\n            left: 0;\n            width: 100%;\n            padding: 0;\n            border-bottom: 1px solid #acacac;\n}\n\n.datepicker.ios .datepicker-navbar-btn {\n            color: #007aff;\n}\n\n.datepicker.ios .datepicker-navbar-btn:nth-child(2) {\n    float: left;\n}\n\n.datepicker.ios .datepicker-content {\n            padding-top: 48px;\n}\n\n.datepicker.ios .datepicker-header + .datepicker-content {\n          padding-top: 0;\n}\n\n.datepicker {\n\n    /* assurance */\n}\n\n.datepicker.assurance {\n    position: relative;\n}\n\n.datepicker.assurance .datepicker-col-1 {\n            margin: 0;\n}\n\n.datepicker.assurance .datepicker-col-1:first-child {\n        -webkit-box-flex: 2;\n            -ms-flex: 2;\n                flex: 2;\n    text-align: left;\n}\n\n.datepicker.assurance .datepicker-col-1:last-child {\n    text-align: right;\n}\n\n.datepicker.assurance .datepicker-header {\n            color: rgb(59, 59, 59);\n            padding: 0 3.5em;\n}\n\n.datepicker.assurance .datepicker-viewport::after {\n    background: -webkit-gradient(linear,left top, left bottom,from(#fff),color-stop(52%, rgba(245, 245, 245, 0)),color-stop(48%, rgba(245, 245, 245, 0)),to(#fff));\n    background: linear-gradient(#fff,rgba(245, 245, 245, 0)52%,rgba(245, 245, 245, 0)48%,#fff);\n}\n\n.datepicker.assurance .datepicker-wheel {\n            border-top: 1px solid #dbdbdb;\n            border-bottom: 1px solid #dbdbdb;\n}\n\n.datepicker.assurance .datepicker-scroll li {\n                color: rgb(59, 59, 59);\n            }\n\n.datepicker.assurance .datepicker-scroll li.disabled {\n                color: rgb(191, 191, 191);\n            }\n\n.datepicker.assurance .datepicker-navbar {\n            display: none;\n}\n\n.datepicker.assurance .datepicker-navbar-btn {\n            color: #007aff;\n}\n\n.datepicker.assurance .datepicker-navbar-btn:nth-child(2) {\n    float: left;\n}\n\n.datepicker.assurance .datepicker-content {\n            padding: 0;\n}\n\n.datepicker.assurance .datepicker-header + .datepicker-content {\n          padding-top: 0;\n}\n\n.datepicker {\n\n    /* android */\n}\n\n.datepicker.android, .datepicker.android-dark {\n    background-color: #f5f5f5;\n}\n\n.datepicker.android .datepicker-header, .datepicker.android-dark .datepicker-header {\n            color: #31b6e7;\n            border-bottom: 2px solid #31b6e7;\n}\n\n.datepicker.android .datepicker-col-1, .datepicker.android-dark .datepicker-col-1 {margin: 0 .625em;\n}\n\n.datepicker.android .datepicker-viewport::after, .datepicker.android-dark .datepicker-viewport::after {\n    background-image: -webkit-gradient(linear,left top, left bottom,from(#f5f5f5),color-stop(52%, rgba(245, 245, 245, 0)),color-stop(48%, rgba(245, 245, 245, 0)),to(#f5f5f5));\n    background-image: linear-gradient(#f5f5f5,rgba(245, 245, 245, 0)52%,rgba(245, 245, 245, 0)48%,#f5f5f5);\n}\n\n.datepicker.android .datepicker-wheel, .datepicker.android-dark .datepicker-wheel {\n            border-top: 2px solid #31b6e7;\n            border-bottom: 2px solid #31b6e7;\n}\n\n.datepicker.android .datepicker-scroll li, .datepicker.android-dark .datepicker-scroll li {\n                font-size: 1.125em;\n                color: rgb(56, 56, 56);\n            }\n\n.datepicker.android .datepicker-scroll li.disabled, .datepicker.android-dark .datepicker-scroll li.disabled {\n                color: rgb(188, 188, 188);\n            }\n\n.datepicker.android .datepicker-navbar, .datepicker.android-dark .datepicker-navbar {\n            display: -webkit-box;\n            display: -ms-flexbox;\n            display: flex;\n            border-top: 1px solid #d9d4d4;\n            padding: 0;\n}\n\n.datepicker.android .datepicker-navbar-btn, .datepicker.android-dark .datepicker-navbar-btn {\n            padding: 0;\n            color: #000;\n            -webkit-box-flex: 1;\n                -ms-flex: 1;\n                    flex: 1;\n}\n\n.datepicker.android .datepicker-navbar-btn:nth-child(2), .datepicker.android-dark .datepicker-navbar-btn:nth-child(2) {\n    border-left: 1px solid #d9d4d4;\n}\n\n.datepicker {\n\n    /* android-dark */\n}\n\n.datepicker.android-dark {\n    background-color: #292829;\n}\n\n.datepicker.android-dark .datepicker-viewport::after {\n    background-image: -webkit-gradient(linear,left top, left bottom,from(#282828),color-stop(52%, rgba(40, 40, 40, 0)),color-stop(48%, rgba(40, 40, 40, 0)),to(#282828));\n    background-image: linear-gradient(#282828,rgba(40, 40, 40, 0)52%,rgba(40, 40, 40, 0)48%,#282828);\n}\n\n.datepicker.android-dark .datepicker-scroll li {\n                color: rgb(199, 199, 199);\n            }\n\n.datepicker.android-dark .datepicker-scroll li.disabled {\n                color: rgb(88, 88, 88);\n            }\n\n.datepicker.android-dark .datepicker-navbar { border-color: #424542;\n}\n\n.datepicker.android-dark .datepicker-navbar-btn {\n            color: #fff;\n}\n\n.datepicker.android-dark .datepicker-navbar-btn:nth-child(2) {\n    border-color: #424542;\n}\n",{});var o=Object.freeze({convertDate:k,nextYear:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return i(e),new Date(e.getFullYear()+t,e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds())},nextMonth:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;i(e);var n=e.getFullYear(),r=e.getMonth()+t,a=Math.min(e.getDate(),new Date(n,r+1,0).getDate());return new Date(n,r,a,e.getHours(),e.getMinutes(),e.getSeconds())},nextDate:r,nextHour:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return i(e),new Date(e.getTime()+60*t*60*1e3)},nextMinute:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return i(e),new Date(e.getTime()+60*t*1e3)},nextSecond:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return i(e),new Date(e.getTime()+1e3*t)}});function d(t,n){if(t===n)return!0;var e=Object.keys(t),r=Object.keys(n);return e.length===r.length&&e.every(function(e){return t.hasOwnProperty(e)&&t[e]===n[e]})}function a(e){e.prototype.shouldComponentUpdate=function(e,t){return a.shouldComponentUpdate(e,t,this.props,this.state)}}function c(e){var t=["-webkit-","-moz-","-ms-"],n={},r=/transform|transition/;for(var a in e)if(e.hasOwnProperty(a)){var i=e[a];if(r.test(a))for(var o=0;o<t.length;o++){n[(t[o]+a).replace(/-([a-z])/g,function(e,t){return t.toUpperCase()}).replace("-","")]=i.replace(r,t[o]+"$&")}n[a]=i}return n}function l(e,t){var n=c(t);for(var r in n)n.hasOwnProperty(r)&&(e.style[r]=n[r])}a.shouldComponentUpdate=function(e,t,n,r){return!d(n,e)||!d(r,t)};!function(){function s(e){this.value=e}function e(a){var i,o;function d(e,t){try{var n=a[e](t),r=n.value;r instanceof s?Promise.resolve(r.value).then(function(e){d("next",e)},function(e){d("throw",e)}):c(n.done?"return":"normal",n.value)}catch(e){c("throw",e)}}function c(e,t){switch(e){case"return":i.resolve({value:t,done:!0});break;case"throw":i.reject(t);break;default:i.resolve({value:t,done:!1})}(i=i.next)?d(i.key,i.arg):o=null}this._invoke=function(r,a){return new Promise(function(e,t){var n={key:r,arg:a,resolve:e,reject:t,next:null};o?o=o.next=n:(i=o=n,d(r,a))})},"function"!=typeof a.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(e.prototype[Symbol.asyncIterator]=function(){return this}),e.prototype.next=function(e){return this._invoke("next",e)},e.prototype.throw=function(e){return this._invoke("throw",e)},e.prototype.return=function(e){return this._invoke("return",e)}}();var s=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},p=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},f=function(e,t){var n={};for(var r in e)0<=t.indexOf(r)||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},v=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},g=Math.floor(8),b=Math.min(8,5),y=200,x=function(e){return void 0===e},w=function(e){var t={Y:"Year",M:"Month",D:"Date",h:"Hour",m:"Minute",s:"Second"};for(var n in t)if(t.hasOwnProperty(n)&&~e.indexOf(n))return t[n];throw new Error("时间格式必须包含 Y, M, D, h, m 或 s字母")},T=function(e){function a(e){s(this,a);var t,n,r=v(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e));return r.animating=!1,r.touchY=0,r.translateY=0,r.lastEventTime=Date.now(),r.lastTouchY=0,r.velocity=0,r.currentIndex=g,r.moveDateCount=0,r.itemHeight=e.itemHeight,r.middleY=-r.itemHeight*g,r.state={translateY:r.middleY,marginTop:(r.currentIndex-g)*r.itemHeight},n=e.format,"[object Array]"===Object.prototype.toString.apply(n)?(r.typeName=w(e.format[0]),r.format=e.format[0],t=e.format[1],"[object Function]"===Object.prototype.toString.apply(t)&&(r.formatTransform=e.format[1])):(r.format=e.format,r.typeName=w(e.format)),r.renderDatepickerItem=r.renderDatepickerItem.bind(r),r.handleContentTouch=r.handleContentTouch.bind(r),r.handleContentMouseDown=r.handleContentMouseDown.bind(r),r.handleContentMouseMove=r.handleContentMouseMove.bind(r),r.handleContentMouseUp=r.handleContentMouseUp.bind(r),r}return h(a,e),p(a,[{key:"componentWillMount",value:function(){this._iniDates(this.props.value)}},{key:"componentDidMount",value:function(){var e=this.viewport;e.addEventListener("touchstart",this.handleContentTouch,!1),e.addEventListener("touchmove",this.handleContentTouch,!1),e.addEventListener("touchend",this.handleContentTouch,!1),e.addEventListener("mousedown",this.handleContentMouseDown,!1)}},{key:"componentWillReceiveProps",value:function(e){e.value.getTime()!==this.props.value.getTime()&&(this._iniDates(e.value),this.currentIndex=g,this.setState({translateY:this.middleY,marginTop:(this.currentIndex-g)*this.itemHeight}))}},{key:"shouldComponentUpdate",value:function(e,t){return e.value.getTime()!==this.props.value.getTime()||!d(t,this.state)}},{key:"componentWillUnmount",value:function(){var e=this.viewport;e.removeEventListener("touchstart",this.handleContentTouch,!1),e.removeEventListener("touchmove",this.handleContentTouch,!1),e.removeEventListener("touchend",this.handleContentTouch,!1),e.removeEventListener("mousedown",this.handleContentMouseDown,!1)}},{key:"_iniDates",value:function(n){var r=this,a=this.typeName,e=Array.apply(void 0,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(Array(16))).map(function(e,t){return o["next"+a](n,(t-g)*r.props.step)});this.setState({dates:e})}},{key:"_updateDates",value:function(e){var t=this.typeName,n=this.state.dates,r=this.props.step;if(0<e){var a=n.slice(0,e).map(function(e){return o["next"+t](e,r+15)});this.currentIndex+=e,this.setState({dates:n.slice(e).concat(a),marginTop:(this.currentIndex-g)*this.itemHeight})}else if(e<0){var i=n.slice(n.length+e,n.length).map(function(e){return o["next"+t](e,-(r+15))});this.currentIndex+=e,this.setState({dates:i.concat(n.slice(0,n.length+e)),marginTop:(this.currentIndex-g)*this.itemHeight})}}},{key:"_checkIsUpdateDates",value:function(e,t){return 1===e?this.currentIndex*this.itemHeight+this.itemHeight/2<-t:this.currentIndex*this.itemHeight-this.itemHeight/2>-t}},{key:"_clearTransition",value:function(e){l(e,{transition:""})}},{key:"_moveToNext",value:function(e){var t=this.state.dates[g],n=this.props,r=n.max,a=n.min;-1===e&&t.getTime()<a.getTime()&&this.moveDateCount?this._updateDates(1):1===e&&t.getTime()>r.getTime()&&this.moveDateCount&&this._updateDates(-1),this._moveTo(this.refs.scroll,this.currentIndex,e)}},{key:"_moveTo",value:function(e,t,n){var r=this;this.animating=!0;for(var a=-this.velocity/y,i=0,o=0;o<y;o++)i+=this.velocity,this.velocity+=a;var d=Math.abs(i),c=[-b,Math.floor(d/this.itemHeight)*n,b].sort(function(e,t){return e-t})[1],s=c+t;l(e,{transition:"transform 200ms ease-out"}),this.setState({translateY:-s*this.itemHeight}),setTimeout(function(){r._updateDates(c),r.animating=!1,r.props.onSelect(r.state.dates[g]),r._clearTransition(r.refs.scroll)},y)}},{key:"handleStart",value:function(e){this.touchY=x(e.targetTouches)||x(e.targetTouches[0])?e.pageY:e.targetTouches[0].pageY,this.translateY=this.state.translateY,this.moveDateCount=0}},{key:"handleMove",value:function(e){var t=x(e.targetTouches)||x(e.targetTouches[0])?e.pageY:e.targetTouches[0].pageY,n=t-this.touchY,r=this.translateY+n,a=0<n?-1:1,i=this.lastTouchY-t,o=Date.now()-this.lastEventTime;this.velocity=i/o,this.lastEventTime=Date.now(),this.lastTouchY=t;var d=this.state.dates[g],c=this.props,s=c.max,l=c.min;d.getTime()<l.getTime()||d.getTime()>s.getTime()||(this._checkIsUpdateDates(a,r)&&(this.moveDateCount=0<a?this.moveDateCount+1:this.moveDateCount-1,this._updateDates(a)),this.setState({translateY:r}))}},{key:"handleEnd",value:function(e){var t=0<(e.pageY||e.changedTouches[0].pageY)-this.touchY?-1:1;this._moveToNext(t)}},{key:"handleContentTouch",value:function(e){e.preventDefault(),this.animating||("touchstart"===e.type?this.handleStart(e):"touchmove"===e.type?this.handleMove(e):"touchend"===e.type&&this.handleEnd(e))}},{key:"handleContentMouseDown",value:function(e){this.animating||(this.handleStart(e),document.addEventListener("mousemove",this.handleContentMouseMove),document.addEventListener("mouseup",this.handleContentMouseUp))}},{key:"handleContentMouseMove",value:function(e){this.animating||this.handleMove(e)}},{key:"handleContentMouseUp",value:function(e){this.animating||(this.handleEnd(e),document.removeEventListener("mousemove",this.handleContentMouseMove),document.removeEventListener("mouseup",this.handleContentMouseUp))}},{key:"renderDatepickerItem",value:function(e,t){var n=e<this.props.min||e>this.props.max?"disabled":"",r=k(e,this.format);return this.formatTransform&&(r=this.formatTransform(r)),m.createElement("li",{key:t,className:n,style:{height:this.itemHeight,lineHeight:this.itemHeight+"px"}},r)}},{key:"render",value:function(){var t=this,e=c({transform:"translateY("+this.state.translateY+"px)",marginTop:this.state.marginTop});return m.createElement("div",{className:"datepicker-col-1"},m.createElement("div",{ref:function(e){return t.viewport=e},className:"datepicker-viewport",style:{height:5*this.itemHeight}},m.createElement("div",{className:"datepicker-wheel",style:{height:this.itemHeight,marginTop:-this.itemHeight/2}},m.createElement("ul",{ref:"scroll",className:"datepicker-scroll",style:e},this.state.dates.map(this.renderDatepickerItem)))))}}]),a}(e.Component),D=function(e){function n(e){s(this,n);var t=v(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.state={value:r(t.props.value)},t.handleFinishBtnClick=t.handleFinishBtnClick.bind(t),t.handleDateSelect=t.handleDateSelect.bind(t),t}return h(n,e),p(n,[{key:"componentWillReceiveProps",value:function(e){var t=r(e.value);t.getTime()!==this.state.value.getTime()&&this.setState({value:t})}},{key:"componentDidUpdate",value:function(){var e=this.state.value,t=this.props,n=t.min,r=t.max;e.getTime()>r.getTime()&&this.setState({value:r}),e.getTime()<n.getTime()&&this.setState({value:n})}},{key:"shouldComponentUpdate",value:function(e,t){return r(t.value).getTime()!==this.state.value.getTime()||a.shouldComponentUpdate(e,t,this.props,this.state)}},{key:"handleFinishBtnClick",value:function(){this.props.onSelect(this.state.value)}},{key:"handleDateSelect",value:function(e){this.setState({value:e}),this.props.onChange&&this.props.onChange(e)}},{key:"render",value:function(){var n=this,e=this.props,r=e.min,a=e.max,t=e.theme,i=e.dateFormat,o=e.confirmText,d=e.cancelText,c=e.showFormat,s=e.showHeader,l=e.customHeader,p=e.dateSteps,u=e.itemHeight,h=this.state.value,f=-1===["default","dark","ios","android","android-dark","assurance"].indexOf(t)?"default":t;return m.createElement("div",{className:"datepicker "+f},s&&m.createElement("div",{className:"datepicker-header"},l||k(h,c)),m.createElement("div",{className:"datepicker-content"},i.map(function(e,t){return m.createElement(T,{key:t,step:p[t]||1,value:h,min:r,max:a,format:e,onSelect:n.handleDateSelect,itemHeight:u})})),m.createElement("div",{className:"datepicker-navbar"},m.createElement("a",{className:"datepicker-navbar-btn",onClick:this.handleFinishBtnClick},o),m.createElement("a",{className:"datepicker-navbar-btn",onClick:this.props.onCancel},d)))}}]),n}(e.Component),C=n.unstable_renderSubtreeIntoContainer,E=function(e){function t(){return s(this,t),v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,e),p(t,[{key:"componentDidMount",value:function(){this._div=document.createElement("div"),this._div.classList.add("Modal-Portal"),document.body.appendChild(this._div),this.renderPortal(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.renderPortal(e)}},{key:"componentWillUnmount",value:function(){n.unmountComponentAtNode(this._div),this._div.parentNode.removeChild(this._div)}},{key:"renderPortal",value:function(e){var t=m.cloneElement(this.props.children,u({},e,{key:"portal"}),null);this.portal=C(this,t,this._div)}},{key:"render",value:function(){return m.createElement("noscript",null)}}]),t}(e.Component);function M(e){var t=e.isOpen,n=f(e,["isOpen"]);return m.createElement("div",{style:{display:t?"":"none"},onClick:function(e){e.target===e.currentTarget&&n.onCancel()},className:"datepicker-modal"},m.createElement(D,n))}function t(e){var t=e.isPopup,n=f(e,["isPopup"]);return t?m.createElement(E,n,m.createElement(M,null)):m.createElement(D,n)}return E.defaultProps={isOpen:!1},t.defaultProps={isPopup:!0,isOpen:!1,theme:"default",value:new Date,min:new Date(1970,0,1),max:new Date(2050,0,1),showHeader:!0,dateFormat:["YYYY","M","D"],dateSteps:[1,1,1],showFormat:"YYYY/MM/DD",confirmText:"完成",cancelText:"取消",onSelect:function(){},onCancel:function(){},itemHeight:40},t});
//# sourceMappingURL=dist/react-mobile-datepicker.min.js.map